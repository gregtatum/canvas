(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var Simplex=require(21),setupRandom=require(6),initializeShortcuts=require(4),_require=require(3),setupCanvas=_require.setupCanvas,loop=_require.loop,generateSeed=_require.generateSeed,_require2=require(2),setupCurveDrawing=_require2.setupCurveDrawing,drawLineSegments=_require2.drawLineSegments,createVerletSystem=require(26),createPoint=require(24),createConstraint=require(22),ease=require(9),TAU=2*Math.PI,seed=generateSeed(),random=setupRandom(seed),simplex=new Simplex(random),simplex3=simplex.noise3D.bind(simplex),ctx=setupCanvas();initializeShortcuts(seed);var config={ctx:ctx,seed:seed,random:random,simplex3:simplex3,lineInitialSpeed:1,lineShrinkage:.8,baseExtrudeLength:50,blobDiesAtAge:50,textFadeInSpeed:.02,textFadeOutSpeed:.02,pointsPerDistance:5,gravitySimplexScale:1,gravityDistance:100,constraintConfig:{stiffness:.1},inProgressSimplexSpeed:1,inProgressSimplexScale:5},current={now:Date.now()/1e3,dt:0,blobs:new Set,textFadeIn:0,verletSystem:createVerletSystem({min:[0,0],max:[ctx.canvas.width,ctx.canvas.height]}),curveDrawing:setupCurveDrawing({ctx:ctx,pointsPerDistance:config.pointsPerDistance,drawingTarget:document.body,onCurveDrawn:function(e){return addNewCurve(config,current,e)}})};function drawIntroText(e,t){var r=e.ctx,n=t.blobs,i=t.curveDrawing;if(0===n.size&&0===i.points.length?(t.textFadeIn+=e.textFadeInSpeed,t.textFadeIn=Math.min(1,t.textFadeIn)):(t.textFadeIn-=e.textFadeOutSpeed,t.textFadeIn=Math.max(0,t.textFadeIn)),t.textFadeIn>0){var a=Math.floor(15*ease(t.textFadeIn)).toString(16);r.textAlign="center",r.font="50px sans-serif",r.fillStyle="#fff"+a,r.fillText("Draw on the screen",r.canvas.width/2,r.canvas.height/2)}}function updateDestroyingGeometry(e,t){var r=e.random,n=e.blobDiesAtAge,i=!0,a=!1,o=void 0;try{for(var l,s=t.blobs[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var c=l.value,u=c.constraints,d=c.points;c.age++;for(var v=Math.min(u.length,Math.floor(r(0,c.age/n))),f=0;f<v;f++){var y=r(0,u.length,!0),p=u[y];u[y]=u[u.length-1],u.pop();var h=!0,x=!1,g=void 0;try{for(var m,b=p.points[Symbol.iterator]();!(h=(m=b.next()).done);h=!0){var S=m.value,w=r(10,50);S.addForce([r(-w,w),r(-w,w)])}}catch(e){x=!0,g=e}finally{try{h||null==b.return||b.return()}finally{if(x)throw g}}}0===u.length&&r()<d.length/40&&d.pop(),0===d.length&&t.blobs.delete(c)}}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}}function addNewCurve(e,t,r){for(var n,i,a=e.constraintConfig,o=e.baseExtrudeLength,l=[r.line[0]],s=[],c=[],u=1;u<r.line.length;u++){var d=r.line[u-1],v=r.line[u];d.x!==v.x&&d.y!==v.y&&l.push(v)}for(var f=1;f<l.length;f++){var y=l[f-1],p=l[f],h=getPerpendicularUnitVector(y,p);if(Number.isNaN(h.x)||Number.isNaN(h.y))throw console.error({p0:y,p1:p,perp:h}),new Error("NaN");var x=(l.length-f)/(l.length+1),g=o*ease(1-2*Math.abs(x-.5));n||i||(n=createPoint({position:[y.x+g*-h.x,y.y+g*-h.y]}),i=createPoint({position:[y.x+g*h.x,y.y+g*h.y]}),s.push(n,i));var m=createPoint({position:[p.x+g*h.x,p.y+g*h.y]}),b=createPoint({position:[p.x+g*-h.x,p.y+g*-h.y]});c.push(createConstraint([n,i],a)),c.push(createConstraint([i,m],a)),c.push(createConstraint([m,b],a)),c.push(createConstraint([b,n],a)),c.push(createConstraint([i,b],a)),c.push(createConstraint([n,m],a)),s.push(b,m),n=b,i=m}for(var S=0,w=c;S<w.length;S++){w[S].restingDistance*=e.lineShrinkage}t.blobs.add({points:s,constraints:c,age:0})}function updateVerlet(e,t){var r=e.ctx,n=e.simplex3,i=e.gravitySimplexScale,a=e.gravityDistance,o=t.verletSystem,l=t.blobs,s=t.dt,c=t.time;o.max=[r.canvas.width,r.canvas.height];var u=Math.PI*n(1,1,c*i);o.gravity=[Math.cos(u)*a,Math.sin(u)*a];var d=!0,v=!1,f=void 0;try{for(var y,p=l[Symbol.iterator]();!(d=(y=p.next()).done);d=!0){var h=y.value,x=h.points,g=h.constraints;o.integrate(x,s);var m=!0,b=!1,S=void 0;try{for(var w,P=g[Symbol.iterator]();!(m=(w=P.next()).done);m=!0){w.value.solve()}}catch(e){b=!0,S=e}finally{try{m||null==P.return||P.return()}finally{if(b)throw S}}}}catch(e){v=!0,f=e}finally{try{d||null==p.return||p.return()}finally{if(v)throw f}}}function drawConstraints(e,t){var r=e.ctx;r.lineWidth=1*devicePixelRatio,r.strokeStyle="#fff",r.beginPath();var n=!0,i=!1,a=void 0;try{for(var o,l=t.blobs[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value.constraints,c=!0,u=!1,d=void 0;try{for(var v,f=s[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var y=_slicedToArray(v.value.points,2),p=y[0],h=y[1];r.moveTo(p.position[0],p.position[1]),r.lineTo(h.position[0],h.position[1])}}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}}catch(e){i=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}r.stroke()}function getPerpendicularUnitVector(e,t){var r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);return{x:n/i,y:-r/i}}function drawInProgressDrawing(e,t){var r=e.ctx,n=e.simplex3,i=e.inProgressSimplexSpeed,a=e.inProgressSimplexScale,o=t.time,l=t.curveDrawing.points;if(l.length){r.lineCap="round",r.lineJoin="round",r.lineWidth=30*devicePixelRatio,r.beginPath(),r.strokeStyle="#fffa",r.moveTo(l[0].x,l[0].y);for(var s=1;s<l.length;s++){var c=l[s],u=c.x,d=c.y;r.lineTo(u+n(u,d,o*i)*a,d+n(u+1e3,d,o*i)*a)}r.stroke()}}function drawPoints(e,t){var r=e.ctx;r.strokeStyle="#fff",r.lineWidth=3*devicePixelRatio,r.beginPath();var n=!0,i=!1,a=void 0;try{for(var o,l=t.blobs[Symbol.iterator]();!(n=(o=l.next()).done);n=!0){var s=o.value.points,c=!0,u=!1,d=void 0;try{for(var v,f=s[Symbol.iterator]();!(c=(v=f.next()).done);c=!0){var y=v.value;r.moveTo(y.position[0],y.position[1]),r.lineTo(y.position[0]+.1,y.position[1])}}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}}catch(e){i=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw a}}r.stroke()}window.current=current,loop(function(e){current.dt=Math.min(e-current.time,100),current.time=e,updateVerlet(config,current),updateDestroyingGeometry(config,current),ctx.fillStyle="#000",ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height),drawIntroText(config,current),drawInProgressDrawing(config,current),drawConstraints(config,current),drawPoints(config,current)});

},{"2":2,"21":21,"22":22,"24":24,"26":26,"3":3,"4":4,"6":6,"9":9}],2:[function(require,module,exports){
"use strict";function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function setupCurveDrawing(e){var t={points:[],distancePerPoint:[],isDrawingCurve:!1,totalLineDistance:0},n=e.drawingTarget;function r(n){n.preventDefault(),addPoint(e,t,n.pageX,n.pageY)}function o(){n.removeEventListener("touchend",o),completeCurve(e,t)}function i(o){n.removeEventListener("mousemove",r),n.removeEventListener("mouseout",i),n.removeEventListener("mouseup",i),addPoint(e,t,o.pageX,o.pageY),completeCurve(e,t)}return n.addEventListener("mousedown",function(o){!1===t.isDrawingCurve&&(n.addEventListener("mousemove",r),n.addEventListener("mouseout",i),n.addEventListener("mouseup",i),hideUI(),t.isDrawingCurve=!0,t.points=[],t.distancePerPoint=[],t.totalLineDistance=0,addPoint(e,t,o.pageX,o.pageY))}),n.addEventListener("touchmove",function(n){n.preventDefault(),addPoint(e,t,n.touches[0].pageX,n.touches[0].pageY)}),n.addEventListener("touchstart",function(r){if(r.preventDefault(),!1===t.isDrawingCurve){n.addEventListener("touchend",o),hideUI(),t.isDrawingCurve=!0,t.points=[],t.distancePerPoint=[],t.totalLineDistance=0;var i=_slicedToArray(r.touches[0],1),a=i[0],s=a.pageX,u=a.pageY;addPoint(e,t,s,u)}}),n.style.touchAction="none",t}function completeCurve(e,t){showUI(),t.isDrawingCurve=!1;var n=generateSmoothedBezierCurve(smoothLine(e,t),.3);e.onCurveDrawn(n),t.points=[]}function addPoint(e,t,n,r){var o,i={x:n*=window.devicePixelRatio,y:r*=window.devicePixelRatio};o=t.points.length>0?t.points[t.points.length-1]:i;var a=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2));t.totalLineDistance+=a,t.points.push(i),t.distancePerPoint.push(a)}function smoothLine(e,t){var n=e.pointsPerDistance,r=t.totalLineDistance,o=t.points,i=t.distancePerPoint,a=[],s=0,u=0,l=0;if(o.length<=2)return o;var c=Math.ceil(r/n),h=r/(c=Math.max(2,c)),d=0;a.push(o[0]);for(var p=1;p<c;p++){for(var v=p*h;l<v;)u=l,l+=i[++d];s=l-u;var y=Math.atan2(o[d].y-o[d-1].y,o[d].x-o[d-1].x);a.push({x:o[d-1].x+s*Math.cos(y),y:o[d-1].y+s*Math.sin(y)})}return a.push(o[o.length-1]),a}function generateSmoothedBezierCurve(e,t){for(var n=0,r=[],o=[],i=[],a=1;a<e.length;a++){var s=Math.sqrt(Math.pow(e[a-1].x-e[a].x,2)+Math.pow(e[a-1].y-e[a].y,2));r.push(s),n+=n}var u=e.x;o.push(_objectSpread({},u)),i.push(_objectSpread({},u));for(var l=1;l<e.length-1;l++){var c=e[l-1],h=e[l],d=e[l+1],p=r[l-1],v=r[l],y=Math.atan2(d.y-c.y,d.x-c.x);o.push({x:h.x+p*t*Math.cos(y+Math.PI),y:h.y+p*t*Math.sin(y+Math.PI)}),i.push({x:h.x+v*t*Math.cos(y),y:h.y+v*t*Math.sin(y)})}var f=e[e.length-1];return o.push(_objectSpread({},f)),i.push(_objectSpread({},f)),{line:e,cpLeft:o,cpRight:i,smoothness:t,distance:n}}function drawLineSegments(e,t){e.lineWidth=1,e.beginPath(),e.strokeStyle=hslToFillStyle(0,0,0,.3);for(var n=1;n<t.length;n++){var r=t[n-1],o=t[n];e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.stroke()}function drawCurve(e,t){e.lineWidth=3,e.strokeStyle="#fff",e.beginPath(),e.lineCap="round";var n=t.line,r=t.cpRight,o=t.cpLeft,i=n.x;e.moveTo(i.x,i.y);for(var a=1;a<n.length;a++)e.bezierCurveTo(r[a-1].x,r[a-1].y,o[a].x,o[a].y,n[a].x,n[a].y);e.stroke()}function drawControlPoints(e,t){e.lineCap="round";for(var n=t.cpLeft,r=t.cpRight,o=0;o<n.length;o++)e.lineWidth=1,e.beginPath(),e.moveTo(n[o].x,n[o].y),e.lineTo(r[o].x,r[o].y),e.strokeStyle=hslToFillStyle(135,100,25,.4),e.stroke(),e.lineWidth=50,e.beginPath(),e.arc(n[o].x,n[o].y,5,0,2*Math.PI),e.fillStyle=hslToFillStyle(90,50,50,.3),e.fill(),e.beginPath(),e.arc(r[o].x,r[o].y,5,0,2*Math.PI),e.fillStyle=hslToFillStyle(180,50,50,.3),e.fill()}function hslToFillStyle(e,t,n,r){return void 0===r?["hsl(",e,",",t,"%,",n,"%)"].join(""):["hsla(",e,",",t,"%,",n,"%,",r,")"].join("")}function hideUI(){document.body.classList.add("hide-ui")}function showUI(){window.fullScreen||document.body.classList.remove("hide-ui")}module.exports={setupCurveDrawing:setupCurveDrawing,drawControlPoints:drawControlPoints,drawCurve:drawCurve,drawLineSegments:drawLineSegments};

},{}],3:[function(require,module,exports){
"use strict";var lerp=require(20);function setupCanvas(){var e=document.createElement("canvas");function n(){e.width=window.innerWidth*devicePixelRatio,e.height=window.innerHeight*devicePixelRatio}return document.body.appendChild(e),n(),window.addEventListener("resize",n,!1),e.getContext("2d",{alpha:!1})}function loop(e){var n=Date.now();requestAnimationFrame(function t(){e((Date.now()-n)/1e3),requestAnimationFrame(t)})}function generateSeed(){var e=window.location.hash.substr(1)||String(Math.random()).split(".")[1];return console.log("current seed",e),window.onhashchange=function(){location.reload()},e}var TAU=Math.PI;function lerpTheta(e,n,t){return(n=(n%TAU+TAU)%TAU)-(e=(e%TAU+TAU)%TAU)>Math.PI&&(e+=TAU),lerp(e,n,t)}module.exports={setupCanvas:setupCanvas,loop:loop,generateSeed:generateSeed,lerpTheta:lerpTheta};

},{"20":20}],4:[function(require,module,exports){
"use strict";function _click(e){var n=document.querySelector(e);n&&n.click()}module.exports=function(e,n){console.log(["Available shortcuts:","f: enter fullscreen","h: hide the ui","r: reload the ui","s: create a screenshot link","u: save the current seed to the URL","left: previous session","right: next session"].join("\n")),window.addEventListener("keydown",function(t){switch(t.key){case"h":document.body.classList.toggle("hide-ui");break;case"r":window.location.reload();break;case"s":var o=document.querySelector("canvas");if(!o){console.log("Could not find a canvas element to screenshot");break}var c=document.querySelector(".download-link");c||((c=document.createElement("a")).className="download-link",document.body.appendChild(c),c.innerHTML="Download Screenshot",c.target="_blank",c.addEventListener("click",function(){c.style.display="none"})),c.href=o.toDataURL(),c.style.display="inline-block";break;case"u":history.pushState(null,document.title,window.location.pathname+"#"+e);break;case"f":if(document.fullscreenElement)document.exitFullscreen&&document.exitFullscreen();else{var l=document.querySelector("canvas");l.requestFullscreen&&l.requestFullscreen()}n&&n();break;case"ArrowLeft":_click("#prev");break;case"ArrowRight":_click("#next")}},!1)};

},{}],5:[function(require,module,exports){
function _mashFn(){var r=4022871197;return function(n){n=n.toString();for(var t=0;t<n.length;t++){var e=.02519603282416938*(r+=n.charCodeAt(t));e-=r=e>>>0,r=(e*=r)>>>0,r+=4294967296*(e-=r)}return 2.3283064365386963e-10*(r>>>0)}}module.exports=function(){var r=Array.prototype.slice.call(arguments),n=0,t=0,e=0,a=1;0===r.length&&(r=[+new Date]);var o=_mashFn();n=t=e=o(" ");for(var u=0;u<r.length;u++)(n-=o(r[u]))<0&&(n+=1),(t-=o(r[u]))<0&&(t+=1),(e-=o(r[u]))<0&&(e+=1);return function(){var r=2091639*n+2.3283064365386963e-10*a;return n=t,t=e,e=r-(a=0|r)}};

},{}],6:[function(require,module,exports){
var Alea=require(5);module.exports=function(){var r=Alea.apply(this,arguments);return function(e,a,n){a=void 0===a?1:a;var t=(e=void 0===e?0:e)+r()*(a-e);return n?parseInt(t,10):t}};

},{"5":5}],7:[function(require,module,exports){
module.exports=function(e,n){return"number"==typeof e?e:"number"==typeof n?n:0};

},{}],8:[function(require,module,exports){
function clamp(c,e,l){return e<l?c<e?e:c>l?l:c:c<l?l:c>e?e:c}module.exports=clamp;

},{}],9:[function(require,module,exports){
function cubicInOut(u){return u<.5?4*u*u*u:.5*Math.pow(2*u-2,3)+1}module.exports=cubicInOut;

},{}],10:[function(require,module,exports){
function add(d,e,n){return d[0]=e[0]+n[0],d[1]=e[1]+n[1],d}module.exports=add;

},{}],11:[function(require,module,exports){
function copy(o,c){return o[0]=c[0],o[1]=c[1],o}module.exports=copy;

},{}],12:[function(require,module,exports){
function create(){var e=new Float32Array(2);return e[0]=0,e[1]=0,e}module.exports=create;

},{}],13:[function(require,module,exports){
function distance(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)}module.exports=distance;

},{}],14:[function(require,module,exports){
function dot(o,t){return o[0]*t[0]+o[1]*t[1]}module.exports=dot;

},{}],15:[function(require,module,exports){
function fromValues(r,e){var o=new Float32Array(2);return o[0]=r,o[1]=e,o}module.exports=fromValues;

},{}],16:[function(require,module,exports){
function multiply(l,t,u){return l[0]=t[0]*u[0],l[1]=t[1]*u[1],l}module.exports=multiply;

},{}],17:[function(require,module,exports){
function scale(e,c,l){return e[0]=c[0]*l,e[1]=c[1]*l,e}module.exports=scale;

},{}],18:[function(require,module,exports){
function squaredLength(e){var r=e[0],n=e[1];return r*r+n*n}module.exports=squaredLength;

},{}],19:[function(require,module,exports){
function subtract(t,r,u){return t[0]=r[0]-u[0],t[1]=r[1]-u[1],t}module.exports=subtract;

},{}],20:[function(require,module,exports){
function lerp(e,r,l){return e*(1-l)+r*l}module.exports=lerp;

},{}],21:[function(require,module,exports){
!function(){"use strict";var r=.5*(Math.sqrt(3)-1),e=(3-Math.sqrt(3))/6,t=1/6,a=(Math.sqrt(5)-1)/4,o=(5-Math.sqrt(5))/20;function i(r){var e;e="function"==typeof r?r:r?function(){var r=0,e=0,t=0,a=1,o=(i=4022871197,function(r){r=r.toString();for(var e=0;e<r.length;e++){var t=.02519603282416938*(i+=r.charCodeAt(e));t-=i=t>>>0,i=(t*=i)>>>0,i+=4294967296*(t-=i)}return 2.3283064365386963e-10*(i>>>0)});var i;r=o(" "),e=o(" "),t=o(" ");for(var n=0;n<arguments.length;n++)(r-=o(arguments[n]))<0&&(r+=1),(e-=o(arguments[n]))<0&&(e+=1),(t-=o(arguments[n]))<0&&(t+=1);return o=null,function(){var o=2091639*r+2.3283064365386963e-10*a;return r=e,e=t,t=o-(a=0|o)}}(r):Math.random,this.p=n(e),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var t=0;t<512;t++)this.perm[t]=this.p[255&t],this.permMod12[t]=this.perm[t]%12}function n(r){var e,t=new Uint8Array(256);for(e=0;e<256;e++)t[e]=e;for(e=0;e<255;e++){var a=e+~~(r()*(256-e)),o=t[e];t[e]=t[a],t[a]=o}return t}i.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(t,a){var o,i,n=this.permMod12,f=this.perm,s=this.grad3,v=0,h=0,l=0,u=(t+a)*r,d=Math.floor(t+u),p=Math.floor(a+u),M=(d+p)*e,m=t-(d-M),c=a-(p-M);m>c?(o=1,i=0):(o=0,i=1);var y=m-o+e,w=c-i+e,g=m-1+2*e,A=c-1+2*e,x=255&d,q=255&p,D=.5-m*m-c*c;if(D>=0){var S=3*n[x+f[q]];v=(D*=D)*D*(s[S]*m+s[S+1]*c)}var U=.5-y*y-w*w;if(U>=0){var b=3*n[x+o+f[q+i]];h=(U*=U)*U*(s[b]*y+s[b+1]*w)}var F=.5-g*g-A*A;if(F>=0){var N=3*n[x+1+f[q+1]];l=(F*=F)*F*(s[N]*g+s[N+1]*A)}return 70*(v+h+l)},noise3D:function(r,e,a){var o,i,n,f,s,v,h,l,u,d,p=this.permMod12,M=this.perm,m=this.grad3,c=(r+e+a)*(1/3),y=Math.floor(r+c),w=Math.floor(e+c),g=Math.floor(a+c),A=(y+w+g)*t,x=r-(y-A),q=e-(w-A),D=a-(g-A);x>=q?q>=D?(s=1,v=0,h=0,l=1,u=1,d=0):x>=D?(s=1,v=0,h=0,l=1,u=0,d=1):(s=0,v=0,h=1,l=1,u=0,d=1):q<D?(s=0,v=0,h=1,l=0,u=1,d=1):x<D?(s=0,v=1,h=0,l=0,u=1,d=1):(s=0,v=1,h=0,l=1,u=1,d=0);var S=x-s+t,U=q-v+t,b=D-h+t,F=x-l+2*t,N=q-u+2*t,C=D-d+2*t,P=x-1+.5,T=q-1+.5,_=D-1+.5,j=255&y,k=255&w,z=255&g,B=.6-x*x-q*q-D*D;if(B<0)o=0;else{var E=3*p[j+M[k+M[z]]];o=(B*=B)*B*(m[E]*x+m[E+1]*q+m[E+2]*D)}var G=.6-S*S-U*U-b*b;if(G<0)i=0;else{var H=3*p[j+s+M[k+v+M[z+h]]];i=(G*=G)*G*(m[H]*S+m[H+1]*U+m[H+2]*b)}var I=.6-F*F-N*N-C*C;if(I<0)n=0;else{var J=3*p[j+l+M[k+u+M[z+d]]];n=(I*=I)*I*(m[J]*F+m[J+1]*N+m[J+2]*C)}var K=.6-P*P-T*T-_*_;if(K<0)f=0;else{var L=3*p[j+1+M[k+1+M[z+1]]];f=(K*=K)*K*(m[L]*P+m[L+1]*T+m[L+2]*_)}return 32*(o+i+n+f)},noise4D:function(r,e,t,i){var n,f,s,v,h,l,u,d,p,M,m,c,y,w,g,A,x,q=this.perm,D=this.grad4,S=(r+e+t+i)*a,U=Math.floor(r+S),b=Math.floor(e+S),F=Math.floor(t+S),N=Math.floor(i+S),C=(U+b+F+N)*o,P=r-(U-C),T=e-(b-C),_=t-(F-C),j=i-(N-C),k=0,z=0,B=0,E=0;P>T?k++:z++,P>_?k++:B++,P>j?k++:E++,T>_?z++:B++,T>j?z++:E++,_>j?B++:E++;var G=P-(l=k>=3?1:0)+o,H=T-(u=z>=3?1:0)+o,I=_-(d=B>=3?1:0)+o,J=j-(p=E>=3?1:0)+o,K=P-(M=k>=2?1:0)+2*o,L=T-(m=z>=2?1:0)+2*o,O=_-(c=B>=2?1:0)+2*o,Q=j-(y=E>=2?1:0)+2*o,R=P-(w=k>=1?1:0)+3*o,V=T-(g=z>=1?1:0)+3*o,W=_-(A=B>=1?1:0)+3*o,X=j-(x=E>=1?1:0)+3*o,Y=P-1+4*o,Z=T-1+4*o,$=_-1+4*o,rr=j-1+4*o,er=255&U,tr=255&b,ar=255&F,or=255&N,ir=.6-P*P-T*T-_*_-j*j;if(ir<0)n=0;else{var nr=q[er+q[tr+q[ar+q[or]]]]%32*4;n=(ir*=ir)*ir*(D[nr]*P+D[nr+1]*T+D[nr+2]*_+D[nr+3]*j)}var fr=.6-G*G-H*H-I*I-J*J;if(fr<0)f=0;else{var sr=q[er+l+q[tr+u+q[ar+d+q[or+p]]]]%32*4;f=(fr*=fr)*fr*(D[sr]*G+D[sr+1]*H+D[sr+2]*I+D[sr+3]*J)}var vr=.6-K*K-L*L-O*O-Q*Q;if(vr<0)s=0;else{var hr=q[er+M+q[tr+m+q[ar+c+q[or+y]]]]%32*4;s=(vr*=vr)*vr*(D[hr]*K+D[hr+1]*L+D[hr+2]*O+D[hr+3]*Q)}var lr=.6-R*R-V*V-W*W-X*X;if(lr<0)v=0;else{var ur=q[er+w+q[tr+g+q[ar+A+q[or+x]]]]%32*4;v=(lr*=lr)*lr*(D[ur]*R+D[ur+1]*V+D[ur+2]*W+D[ur+3]*X)}var dr=.6-Y*Y-Z*Z-$*$-rr*rr;if(dr<0)h=0;else{var pr=q[er+1+q[tr+1+q[ar+1+q[or+1]]]]%32*4;h=(dr*=dr)*dr*(D[pr]*Y+D[pr+1]*Z+D[pr+2]*$+D[pr+3]*rr)}return 27*(n+f+s+v+h)}},i._buildPermutationTable=n,"undefined"!=typeof define&&define.amd&&define(function(){return i}),"undefined"!=typeof exports?exports.SimplexNoise=i:"undefined"!=typeof window&&(window.SimplexNoise=i),"undefined"!=typeof module&&(module.exports=i)}();

},{}],22:[function(require,module,exports){
var vec2={create:require(12),add:require(10),dot:require(14),sub:require(19),scale:require(17),distance:require(13)};module.exports=require(23)(vec2);

},{"10":10,"12":12,"13":13,"14":14,"17":17,"19":19,"23":23}],23:[function(require,module,exports){
module.exports=function(s){var t=s.create(),i=s.create();function e(t,i){if(!t||2!==t.length)throw new Error("two points must be specified for the constraint");if(!t[0].position||!t[1].position)throw new Error("must specify verlet-point or similar, with { position }");this.points=t,this.stiffness=1,i&&"number"==typeof i.stiffness&&(this.stiffness=i.stiffness),i&&"number"==typeof i.restingDistance?this.restingDistance=i.restingDistance:this.restingDistance=s.distance(this.points[0].position,this.points[1].position)}return e.prototype.solve=function(){var e=this.points[0],n=this.points[1],o=e.position,r=n.position,f="number"==typeof e.mass?e.mass:1,a="number"==typeof n.mass?n.mass:1;s.sub(t,o,r);var p,h,c=Math.sqrt(s.dot(t,t)),u=0===c?this.restingDistance:(this.restingDistance-c)/c;if(0==f&&0==a)p=0,h=0;else if(0==f&&a>0)p=0,h=this.stiffness;else if(f>0&&0==a)p=this.stiffness,h=0;else{var m=1/f;p=m/(m+1/a)*this.stiffness,h=this.stiffness-p}return s.scale(i,t,p*u),s.add(o,o,i),s.scale(i,t,h*u),s.sub(r,r,i),c},function(s,t,i){return new e(s,t,i)}};

},{}],24:[function(require,module,exports){
var vec2={create:require(12),sub:require(19),copy:require(11)};module.exports=require(25)(vec2);

},{"11":11,"12":12,"19":19,"25":25}],25:[function(require,module,exports){
module.exports=function(i){function t(t){this.position=i.create(),this.previous=i.create(),this.acceleration=i.create(),this.mass=1,this.radius=0,t&&"number"==typeof t.mass&&(this.mass=t.mass),t&&"number"==typeof t.radius&&(this.radius=t.radius),t&&t.position&&i.copy(this.position,t.position),t&&(t.previous||t.position)&&i.copy(this.previous,t.previous||t.position),t&&t.acceleration&&i.copy(this.acceleration,t.acceleration)}return t.prototype.addForce=function(t){return i.sub(this.previous,this.previous,t),this},t.prototype.place=function(t){return i.copy(this.position,t),i.copy(this.previous,t),this},function(i){return new t(i)}};

},{}],26:[function(require,module,exports){
var vec2={create:require(12),add:require(10),multiply:require(16),sub:require(19),scale:require(17),copy:require(11),sqrLen:require(18),fromValues:require(15)};module.exports=require(28)(vec2);

},{"10":10,"11":11,"12":12,"15":15,"16":16,"17":17,"18":18,"19":19,"28":28}],27:[function(require,module,exports){
module.exports=function(o){var r=o.fromValues(-1/0,-1/0,-1/0),e=o.fromValues(1/0,1/0,1/0),i=o.fromValues(1,1,1),t=o.create();return function(n,s,a,f,u){if(a||f){o.copy(t,i),a=a||r,f=f||e;var p=0,l=n.position.length,m=!1,c=n.radius||0;for(p=0;p<l;p++)"number"==typeof a[p]&&n.position[p]-c<a[p]&&(t[p]=-1,n.position[p]=a[p]+c,m=!0);for(p=0;p<l;p++)"number"==typeof f[p]&&n.position[p]+c>f[p]&&(t[p]=-1,n.position[p]=f[p]-c,m=!0);var v=o.sqrLen(s);if(m&&!(v<=1e-6)){var y=Math.sqrt(v);0!==y&&o.scale(s,s,1/y),o.scale(t,t,y*u),o.multiply(s,s,t)}}}};

},{}],28:[function(require,module,exports){
var number=require(7),clamp=require(8),createCollider=require(27);module.exports=function(i){var e=createCollider(i),t=i.create(),o=i.create(),n=i.create();function r(e){if(!(this instanceof r))return new r(e);e=e||{},this.gravity=e.gravity||i.create(),this.friction=number(e.friction,.98),this.min=e.min,this.max=e.max,this.bounce=number(e.bounce,1)}return r.prototype.collision=function(i,t){e(i,t,this.min,this.max,this.bounce)},r.prototype.integratePoint=function(e,r){var a="number"==typeof e.mass?e.mass:1;if(0===a)return this.collision(e,n),void i.copy(e.acceleration,n);i.add(e.acceleration,e.acceleration,this.gravity),i.scale(e.acceleration,e.acceleration,a),i.sub(t,e.position,e.previous),i.scale(t,t,this.friction),this.collision(e,t),i.copy(e.previous,e.position);var c=r*r;i.scale(o,e.acceleration,.5*c),i.add(e.position,e.position,t),i.add(e.position,e.position,o),i.copy(e.acceleration,n)},r.prototype.integrate=function(i,e){for(var t=0;t<i.length;t++)this.integratePoint(i[t],e)},r};

},{"27":27,"7":7,"8":8}]},{},[1])
//# sourceMappingURL=bundle.js.map
